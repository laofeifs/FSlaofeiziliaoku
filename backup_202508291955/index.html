<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, max-age=0, private">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="Last-Modified" content="Thu, 29 Aug 2025 15:30:00 GMT">
    <meta http-equiv="ETag" content="202508291625">
    <title>老非FS资料库 - 新版本</title>
    <link rel="stylesheet" href="styles.css?v=202508291625">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- Service Worker 注册 -->
    <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js')
        .then(registration => {
          console.log('Service Worker 注册成功:', registration.scope);
          
          // 监听更新
          registration.addEventListener('updatefound', () => {
            console.log('检测到Service Worker更新');
            const newWorker = registration.installing;
            newWorker.addEventListener('statechange', () => {
              if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                console.log('新版本可用，提示用户刷新');
                // 可以在这里显示更新提示
              }
            });
          });
        })
        .catch(err => console.error('Service Worker 注册失败:', err));
    }
    </script>
</head>
<body>
    <!-- 头部区域 -->
    <header class="header">
        <div class="header-content">
            <h1 class="main-title">街头篮球资料库</h1>
            <div class="title-underline"></div>
            <div class="header-bottom">
                <p class="powered-by">Powered by 老非</p>
                <div class="contact-tag">
                    <i class="fas fa-comments"></i>
                    <span>laofei90186</span>
                </div>
            </div>
            <div class="refresh-tip-header">
                <i class="fas fa-exclamation-triangle"></i>
                <span>点击右上角三个点➡️刷新获取最新版</span>
            </div>
        </div>
    </header>

    <!-- 主要内容区域 -->
    <main class="main-content">
        <!-- 主导航按钮 -->
        <div class="nav-container">
            <div class="nav-buttons">
                <button class="nav-btn" data-section="gallery">
                    <i class="fas fa-images"></i>
                    <span>超特图鉴</span>
                </button>
                <button class="nav-btn active" data-section="characters">
                    <i class="fas fa-running"></i>
                    <span>超特动作</span>
                </button>
                <button class="nav-btn" data-section="ranking">
                    <i class="fas fa-trophy"></i>
                    <span>职业排名</span>
                </button>
                <button class="nav-btn" data-section="skills">
                    <span>实用技巧</span>
                </button>
                <button class="nav-btn" data-section="events">
                    <span>活动</span>
                </button>
                <button class="nav-btn" data-section="account">
                    <span>FS账号</span>
                </button>

            </div>
        </div>

        <!-- 角色代次筛选按钮 -->
        <div class="filter-container">
            <div class="filter-buttons">
                <button class="filter-btn" data-generation="1">
                    <i class="fas fa-bolt"></i>
                    <span>1代超特</span>
                </button>
                <button class="filter-btn" data-generation="2">
                    <i class="fas fa-bolt"></i>
                    <span>2代超特</span>
                </button>
                <button class="filter-btn" data-generation="3">
                    <i class="fas fa-bolt"></i>
                    <span>3代超特</span>
                </button>
                <button class="filter-btn" data-generation="3.5">
                    <i class="fas fa-bolt"></i>
                    <span>3.5代超特</span>
                </button>
                <button class="filter-btn" data-generation="4">
                    <i class="fas fa-bolt"></i>
                    <span>4代超特</span>
                </button>
                <button class="filter-btn" data-generation="4.5">
                    <i class="fas fa-bolt"></i>
                    <span>4.5代超特</span>
                </button>
                <button class="filter-btn" data-generation="5">
                    <i class="fas fa-bolt"></i>
                    <span>5代超特</span>
                </button>
                <button class="filter-btn" data-generation="5.5">
                    <i class="fas fa-bolt"></i>
                    <span>5.5代超特</span>
                </button>
                <button class="filter-btn" data-generation="6">
                    <i class="fas fa-bolt"></i>
                    <span>6代超特</span>
                </button>
                <button class="filter-btn" data-generation="6.5">
                    <i class="fas fa-bolt"></i>
                    <span>6.5代超特</span>
                </button>
                <button class="filter-btn" data-generation="7">
                    <i class="fas fa-bolt"></i>
                    <span>7代超特</span>
                </button>
                <button class="filter-btn" data-generation="7.5">
                    <i class="fas fa-bolt"></i>
                    <span>7.5代超特</span>
                </button>
                <button class="filter-btn" data-generation="8">
                    <i class="fas fa-bolt"></i>
                    <span>8代超特</span>
                </button>
                <button class="filter-btn active" data-generation="9">
                    <i class="fas fa-bolt"></i>
                    <span>9代超特</span>
                </button>
            </div>
        </div>

        <!-- 移除刷新提示 -->
        <!-- <div id="refresh-tip" class="refresh-tip" style="display: none;">
            <p>检测到新版本，请下拉刷新页面</p>
        </div> -->
        
        <!-- 内容显示区域 -->
        <div class="content-area">
            <div id="gallery-section" class="content-section">
                <h2>超特图鉴</h2>
                <div class="gallery-grid" id="gallery-grid">
                    <!-- 图鉴卡片将在这里动态生成 -->
                </div>
            </div>
            
            <div id="characters-section" class="content-section active">
                <h2>超特动作</h2>
                <div class="characters-grid" id="characters-grid">
                    <!-- 角色卡片将在这里动态生成 -->
                </div>
            </div>

            <div id="ranking-section" class="content-section">
                <h2>职业排名</h2>
                <div class="ranking-tabs">
                    <button class="ranking-tab active" data-ranking="c">
                        <i class="fas fa-user"></i>
                        <span>C排名</span>
                    </button>
                    <button class="ranking-tab" data-ranking="pf">
                        <i class="fas fa-user"></i>
                        <span>PF排名</span>
                    </button>
                    <button class="ranking-tab" data-ranking="pg">
                        <i class="fas fa-user"></i>
                        <span>PG排名</span>
                    </button>
                </div>
                <div class="ranking-content">
                    <p class="ranking-tip">点击图片放大显示 点击空白处返回</p>
                    <div class="ranking-controls">
                        <button class="rotate-btn" onclick="toggleImageRotation()">
                            <i class="fas fa-redo"></i>
                            <span>旋转图片</span>
                        </button>
                    </div>
                    <div id="c-ranking" class="ranking-item active">
                        <img src="" alt="C排名" class="ranking-image" id="c-ranking-image">
                    </div>
                    <div id="pf-ranking" class="ranking-item">
                        <img src="" alt="PF排名" class="ranking-image" id="pf-ranking-image">
                    </div>
                    <div id="pg-ranking" class="ranking-item">
                        <img src="" alt="PG排名" class="ranking-image" id="pg-ranking-image">
                    </div>
                </div>
            </div>

            <div id="skills-section" class="content-section">
                <h2>实用技巧</h2>
                <p>实用技巧内容将在这里显示</p>
            </div>

            <div id="events-section" class="content-section">
                <h2>活动</h2>
                <p>活动内容将在这里显示</p>
            </div>

            <div id="account-section" class="content-section">
                <h2>FS账号</h2>
                <p>FS账号内容将在这里显示</p>
            </div>

            <div id="admin-section" class="content-section">
                <h2>管理端</h2>
                <p>管理端内容将在这里显示</p>
            </div>
        </div>
    </main>

    <!-- 全屏显示容器 -->
    <div id="fullscreen-overlay" class="fullscreen-overlay">
        <img id="fullscreen-image" class="fullscreen-image" src="" alt="">
    </div>

    <script src="script.js?v=202508291625"></script>
</body>
</html>
